## 认识VIM([参考链接](https://zhuanlan.zhihu.com/p/68111471))

### VIM 常用的有四个模式：
1. 正常模式 (Normal-mode)
2. 插入模式 (Insert-mode)
3. 命令模式 (Command-mode)
4. 可视模式 (Visual-mode)

### Normal-mode into Insert-mode `i,I,a,A,o,O,s,S`
1. ***i*** 是在光标所在的字符之前插入需要录入的文本。
2. ***I*** 是在光标所在行的行首插入需要录入的文本。
3. ***a*** 是在光标所在的字符之后插入需要录入的文本。
4. ***A*** 是在光标所在行的行尾插入需要录入的文本。
5. ***o*** 是光标所在行的下一行行首插入需要录入的文本。
6. ***O*** 是光标所在行的上一行行首插入需要录入的文本。
7. ***s*** 删除光标所在处的字符然后插入需要录入的文本。
8. ***S*** 删除光标所在行，在当前行的行首开始插入需要录入的文本。
9. 还有一个可能经常用到的就是 cw,删除从光标处开始到该单词结束的所有字符，然后插入需要录入的文本（这个命令是两个字符的合体 cw ）。

###  进行关键字的查找。

  `/{目标字符串}`

  查找文本中匹配的目标字符串，查到以后，输入键盘上的 n 会去寻找下一个匹配，N 会去寻找上一个匹配。

### 处理大小写的区分

  `:set ic` 编辑器将不会区分大小写;

  `:set noic` 该命令用来区分大小写的查询。

### 删除多行文本

  `:n1,n2d`

  n1, n2指的是起始行号和结束行号，d是删除关键字

### 处理文本替换

  `:{作用范围}s/{目标}/{替换}/{替换的标志}`

  作用范围分为当前行、全文、选区等等

  `:s/Alan/handsome/g`

  将会把当前光标所在行的 Alan 替换成 handsome

  `:%s/Alan/handsome/g`

  将会把全文中的 Alan 替换成 handsome

  `n1,n2s/Alan/handsome/g`

  这里的 n1 和 n2 值得是行号，将会替换掉 n1 到 n2 的所有 Alan 为 handsome.

### 定义快捷键

#### 关键字**map**

`:map ^M I#<ESC>`

上面的例子也就是通过快捷键 Ctrl + m 在文件光标处所在行的行首插入 # （ # 代表注释）。

: 后面的 map 是关键字 ，后面是 key 和 value 。

key 对应的是 ^M ， 这个 key 需要强调一下 ^M 是 Ctrl + v + m 打出来的（按下这三个键，VIM 会显示成 ^M ）,^M 代表快捷键是Ctrl + m , Ctrl + v + n 就是 ^N ,代表快捷键是 Ctrl + n 。Ctrl + v + x 就是 ^X (这里的 x 是代表 26 个字母中的任意一个) 代表快捷键 Ctrl + x。

value 对应的是 I#<ESC>,表示按下快捷键以后执行的相应操作，I 是切换光标至行首并切换到编辑模式，#是行首输入的内容（ # 是VIM 文件中的注释符号 ），<ESC> 是退出编辑模式。

#### 关键字**ab**

`ab email xxx@gmail.com`

: 后面的 ab 是关键字 ,该命令执行后，然后切换到编辑模式下,输入 email 会把输入的 email 自动替换成 xxxx@gmail.com。

这个命令主要是处理频繁输入同样的长串字符串。

### VIM 的正常模式（Normal-model）

VIM 正常模式下，主要进行的操作有光标的移动，复制文本，删除文本，黏贴文本等。

#### 在当前行上移动光标

0 移动到行头

^ 移动到本行的第一个不是 blank 字符

$ 移动到行尾

g_ 移动到本行最后一个不是 blank 字符的位置

w 光标移动到下一个单词的开头

e 光标移动到下一个单词的结尾

fa 移动到本行下一个为 a 的字符处，fb 移动到下一个为 b 的字符处

nfa 移动到本行光标处开始的第 n 个 字符为 a 的地方（n 是 1，2，3，4 ... 数字）

Fa 同 fa 一样，光标移动方向同 fa 相反

nFa 同 nfa 类似，光标移动方向同 nfa相反

ta 移动光标至 a 字符的前一个字符

nta 移动到第二个 a 字符的前一个字符处

Ta 同 ta 移动光标方向相反

nTa 同 nta 移动光标方向相反

; 和, 当使用 f, F, t ,T, 关键字指定字符跳转的时候，使用 ；可以快速跳转到写一个指定的字符，, 是跳到前一个指定的字符


#### 跨行移动光标

nG 光标定位到第 n 行的行首

gg 光标定位到第一行的行首

G 光标定位到最后一行的行首

H 光标定位到当前屏幕的第一行行首

M 光标移动到当前屏幕的中间

L 光标移动到当前屏幕的尾部

zt 把当前行移动到当前屏幕的最上方，也就是第一行

zz 把当前行移动到当前屏幕的中间

zb 把当前行移动到当前屏幕的尾部

% 匹配括号移动，包括 ( , { , [ 需要把光标先移动到括号上

* 和 # 匹配光标当前所在的单词，移动光标到下一个（或者上一个）匹配的单词（ * 是下一个，# 是上一个）

#### 翻页操作

ctrl+f 查看下一页内容

ctrl+b 查看上一页内容

#### VIM 的复制，黏贴 ，删除

三个重要的快捷键 d , y , p

d 是删除的意思，通常搭配一个字符 ( 删除范围 ) 实现删除功能，常用的如下：

dw 删除一个单词

dnw 删除 n 个单词，

dfa 删除光标处到下一个 a 的字符处（ fa 定位光标到 a 处 ）

dnfa 删除光标处到第 n 个 a 的字符处

dd 删除一整行

ndd 删除光标处开始的 n 行

d$ 删除光标到本行的结尾

dH 删除屏幕显示的第一行文本到光标所在的行

dG 删除光标所在行到文本的结束


y 是复制的意思，通常搭配一个字符（复制范围）实现复制的功能，常用的如下：

yw 复制一个单词，还有 ynw

yfa 复制光标到下一个 a 的字符处,还有ynfa

yy 复制一行，还有 nyy

y$ 复制光标到本号的结尾

yH 复制屏幕显示的第一行文本到光标所在的行

yG 复制光标所在行到文本的结束


p ，P是黏贴的意思，当执行完复制或者黏贴的命令以后，VIM 会把文本寄存起来。

p 在光标后开始黏贴

P 大写的 P 光标前开始粘贴


#### 撤销操作和恢复

u 撤销刚才的操作

`ctrl + r 恢复撤销操作`


#### 删除字符操作和替换


x 删除光标当前所在的字符

r 替换掉光标当前所在的字符

R 替换掉从光标开始以后的所有字符，除非 <ESC > 退出，或者 jj （代替 <ESC> 上文有提到）退出。
Hello

#### 大小写转换

~ 将光标下的字母改变大小写
3~ 将光标位置开始的3个字母改变其大小写
g~~ 改变当前行字母的大小写
gUU 将当前行的字母改成大写
guu 将当前行的字母全改成小写

3gUU 将从光标开始到下面3行字母改成大写
gUw 将光标下的单词改成大写。
guw 将光标下的单词改成小写

####VIM 正常模式下，主要进行的操作有光标的移动，复制文本，删除文本，黏贴文本等。



快速移动光标



几个重要的快捷键

请记住这几个快捷键 h,j,k,l 这几个按键主要是用来快速移动光标的，h 是向左移动光标，l 是向右移动光标，j 是向下移动光标，k 是向上移动光标，h , j , k ,l 在主键盘区完全可以取代键盘上的 ↑ ,↓ ,← , → 的功能。



在当前行上移动光标



0 移动到行头

^ 移动到本行的第一个不是 blank 字符

$ 移动到行尾

g_ 移动到本行最后一个不是 blank 字符的位置

w 光标移动到下一个单词的开头

e 光标移动到下一个单词的结尾

fa 移动到本行下一个为 a 的字符处，fb 移动到下一个为 b 的字符处

nfa 移动到本行光标处开始的第 n 个 字符为 a 的地方（n 是 1，2，3，4 ... 数字）

Fa 同 fa 一样，光标移动方向同 fa 相反

nFa 同 nfa 类似，光标移动方向同 nfa相反

ta 移动光标至 a 字符的前一个字符

nta 移动到第二个 a 字符的前一个字符处

Ta 同 ta 移动光标方向相反

nTa 同 nta 移动光标方向相反

; 和, 当使用 f, F, t ,T, 关键字指定字符跳转的时候，使用 ；可以快速跳转到写一个指定的字符，, 是跳到前一个指定的字符



跨行移动光标



nG 光标定位到第 n 行的行首

gg 光标定位到第一行的行首

G 光标定位到最后一行的行首

H 光标定位到当前屏幕的第一行行首

M 光标移动到当前屏幕的中间

L 光标移动到当前屏幕的尾部

zt 把当前行移动到当前屏幕的最上方，也就是第一行

zz 把当前行移动到当前屏幕的中间

zb 把当前行移动到当前屏幕的尾部

% 匹配括号移动，包括 ( , { , [ 需要把光标先移动到括号上

* 和 # 匹配光标当前所在的单词，移动光标到下一个（或者上一个）匹配的单词（ * 是下一个，# 是上一个）



翻页操作



ctrl+f 查看下一页内容

ctrl+b 查看上一页内容



VIM 的复制，黏贴 ，删除



三个重要的快捷键 d , y , p

d 是删除的意思，通常搭配一个字符 ( 删除范围 ) 实现删除功能，常用的如下：

dw 删除一个单词

dnw 删除 n 个单词，

dfa 删除光标处到下一个 a 的字符处（ fa 定位光标到 a 处 ）

dnfa 删除光标处到第 n 个 a 的字符处

dd 删除一整行

ndd 删除光标处开始的 n 行

d$ 删除光标到本行的结尾

dH 删除屏幕显示的第一行文本到光标所在的行

dG 删除光标所在行到文本的结束



y 是复制的意思，通常搭配一个字符（复制范围）实现复制的功能，常用的如下：

yw 复制一个单词，还有 ynw

yfa 复制光标到下一个 a 的字符处,还有ynfa

yy 复制一行，还有 nyy

y$ 复制光标到本号的结尾

yH 复制屏幕显示的第一行文本到光标所在的行

yG 复制光标所在行到文本的结束



p ，P是黏贴的意思，当执行完复制或者黏贴的命令以后，VIM 会把文本寄存起来。

p 在光标后开始黏贴

P 大写的 P 光标前开始粘贴



撤销操作和恢复



u 撤销刚才的操作

ctrl + r 恢复撤销操作



删除字符操作和替换



x 删除光标当前所在的字符

r 替换掉光标当前所在的字符

R 替换掉从光标开始以后的所有字符，除非 <ESC > 退出，或者 jj （代替 <ESC> 上文有提到）退出。



大小写转换



~ 将光标下的字母改变大小写
3~ 将光标位置开始的3个字母改变其大小写
g~~ 改变当前行字母的大小写
gUU 将当前行的字母改成大写
guu 将当前行的字母全改成小写

3gUU 将从光标开始到下面3行字母改成大写
gUw 将光标下的单词改成大写。
guw 将光标下的单词改成小写

VIM 的重复命令

. 该命令是重复上一个操作的命令
n<command>重复某个命令 n 次，
如 10p复制 10 次，10dd 删除十次。

VIM 可视化模式（Visual-mode)

v,V,Ctrl+v

v字符可视化，按下键盘上的v以后，屏幕底部应该会有一个 VISUAl 的提示，操作 h,j,k,l就选中文本，继续按 v 退出可视化模式。

V 行可视化，按下键盘上的 V 以后，屏幕底部应该有一个 VISUAL LINE 的提示，操作 j,k 可以向上或者向下以行为单位选中文本，继续按下 V 退出可视化模式。

Ctrl+v 块状可视化，按下键盘上的 Ctrl+v 以后，屏幕底部应该会有一个提示 VISUALBLOCK ，可以通过 h,j,k,l 块状的操作选择区域，这是很多编辑器都不可以做到的，继续按下 Ctrl+v 会退出可视化模式。


可视化模式下操作文本

可视化模式下选择操作区域以后，
按下 d会删除选择的区域，
按下 y 会复制选择的区域，按下 p 会黏贴选择的区域。


可视化模式下 v 的特殊操作

当操作的文本光标在 “”，‘’ ，（），{} ，[（双引号，单引号，小括号，大括号，中括号）
当中的时候,可以通过 va"选中 ”“ 内的所有内容包括双引号 ，vi" 选中 "" 内的所有内容，不包括 ""。va,vi 会快速选择区域，va 后面会紧跟一个区域结束标志，a 会选中结束符标志，i 就不会。例子如下：

"hello world [VIM is so strong],{we all can master vim skill}"

假设当前光标定位在上面的文本 M 处：
va] 操作将会选中以下文本（加粗部分）：
“hello world[VIM is so strong],{we all can master vim skill}“
vi] 操作将会选中如下的区域，没有包含 []：
“hello world [VIM is so strong],{we all can master vim skill}“


块区域下的特殊操作

Ctrl+v 选中块区域以后，按下大写的 I 或者 A 可以在区域的前面或者后面输入内容，按下 jj 或者 <ESC>,可以看到选中的区域前面或者后面会有输入的内容。

VIM 的代码提示功能

在编辑模式下 ，快捷键 Ctrl+n 或者 Ctrl+p 会有代码提示功能，我们可以实现快速录入的效果。


VIM 的宏录制

假设需要操作的文本如下,需要将如下的多行文本的首行键入一个 tab 键。

hello
hello world
hello world , vim


宏录制的录制操作

先将光标移动到第一行，在普通模式下按下 q 键（宏录制是 q 键启动的),在按一个 a （字母随意）,表示该宏注册为 a ，按下 I 在行首插入一个 tab 键，按下jj或者 <ESC>退出编辑模式,按下 j 将光标移动到下一行行首，最后按下 q 键完成录制操作（宏录制是 q 键结束的）。
总结上面例子的操作流程：
q → a → I → tab → jj → j → q
上面的例子成功地把在行首插入 tab 的功能录制了下来，那么如何应用到其他行呢？


宏录制的使用

上述的例子，在正常模式下，按 @a执行宏录制的一系列动作，将会在第二行执行插入 tab 。
@@ 是对上一次宏使用的重复操作。n@a 就会执行 n 次一系列的动作。使用宏录制可以一次执行一系列的操作，可以针对一些重复度较高的操作进行宏录制。 VIM 的重复命令

. 该命令是重复上一个操作的命令
n<command>重复某个命令 n 次，
如 10p复制 10 次，10dd 删除十次。

VIM 可视化模式（Visual-mode)

v,V,Ctrl+v

v字符可视化，按下键盘上的v以后，屏幕底部应该会有一个 VISUAl 的提示，操作 h,j,k,l就选中文本，继续按 v 退出可视化模式。

V 行可视化，按下键盘上的 V 以后，屏幕底部应该有一个 VISUAL LINE 的提示，操作 j,k 可以向上或者向下以行为单位选中文本，继续按下 V 退出可视化模式。

Ctrl+v 块状可视化，按下键盘上的 Ctrl+v 以后，屏幕底部应该会有一个提示 VISUALBLOCK ，可以通过 h,j,k,l 块状的操作选择区域，这是很多编辑器都不可以做到的，继续按下 Ctrl+v 会退出可视化模式。


可视化模式下操作文本

可视化模式下选择操作区域以后，
按下 d会删除选择的区域，
按下 y 会复制选择的区域，按下 p 会黏贴选择的区域。


可视化模式下 v 的特殊操作

当操作的文本光标在 “”，‘’ ，（），{} ，[（双引号，单引号，小括号，大括号，中括号）
当中的时候,可以通过 va"选中 ”“ 内的所有内容包括双引号 ，vi" 选中 "" 内的所有内容，不包括 ""。va,vi 会快速选择区域，va 后面会紧跟一个区域结束标志，a 会选中结束符标志，i 就不会。例子如下：

"hello world [VIM is so strong],{we all can master vim skill}"

假设当前光标定位在上面的文本 M 处：
va] 操作将会选中以下文本（加粗部分）：
“hello world[VIM is so strong],{we all can master vim skill}“
vi] 操作将会选中如下的区域，没有包含 []：
“hello world [VIM is so strong],{we all can master vim skill}“


块区域下的特殊操作

Ctrl+v 选中块区域以后，按下大写的 I 或者 A 可以在区域的前面或者后面输入内容，按下 jj 或者 <ESC>,可以看到选中的区域前面或者后面会有输入的内容。

VIM 的代码提示功能

在编辑模式下 ，快捷键 Ctrl+n 或者 Ctrl+p 会有代码提示功能，我们可以实现快速录入的效果。


VIM 的宏录制

假设需要操作的文本如下,需要将如下的多行文本的首行键入一个 tab 键。

hello
hello world
hello world , vim


宏录制的录制操作

先将光标移动到第一行，在普通模式下按下 q 键（宏录制是 q 键启动的),在按一个 a （字母随意）,表示该宏注册为 a ，按下 I 在行首插入一个 tab 键，按下jj或者 <ESC>退出编辑模式,按下 j 将光标移动到下一行行首，最后按下 q 键完成录制操作（宏录制是 q 键结束的）。
总结上面例子的操作流程：
q → a → I → tab → jj → j → q
上面的例子成功地把在行首插入 tab 的功能录制了下来，那么如何应用到其他行呢？


宏录制的使用

上述的例子，在正常模式下，按 @a执行宏录制的一系列动作，将会在第二行执行插入 tab 。
@@ 是对上一次宏使用的重复操作。n@a 就会执行 n 次一系列的动作。使用宏录制可以一次执行一系列的操作，可以针对一些重复度较高的操作进行宏录制。